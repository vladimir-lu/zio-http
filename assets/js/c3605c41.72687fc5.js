"use strict";(self.webpackChunkzio_http_docs=self.webpackChunkzio_http_docs||[]).push([[851],{3905:function(t,e,a){a.d(e,{Zo:function(){return d},kt:function(){return m}});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)a=o[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var l=n.createContext({}),s=function(t){var e=n.useContext(l),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},d=function(t){var e=s(t.components);return n.createElement(l.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,o=t.originalType,l=t.parentName,d=p(t,["components","mdxType","originalType","parentName"]),u=s(a),m=r,f=u["".concat(l,".").concat(m)]||u[m]||c[m]||o;return a?n.createElement(f,i(i({ref:e},d),{},{components:a})):n.createElement(f,i({ref:e},d))}));function m(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var o=a.length,i=new Array(o);i[0]=u;var p={};for(var l in e)hasOwnProperty.call(e,l)&&(p[l]=e[l]);p.originalType=t,p.mdxType="string"==typeof t?t:r,i[1]=p;for(var s=2;s<o;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8914:function(t,e,a){a.r(e),a.d(e,{contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return d}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=["components"],p={sidebar_position:"5"},l="HttpData",s={unversionedId:"v1.x/dsl/httpdata",id:"v1.x/dsl/httpdata",isDocsHomePage:!1,title:"HttpData",description:"HttpData is a domain to model content for Request, Response and ClientRequest. ZIO HTTP uses Netty at it's core and Netty handles content as ByteBuf. HttpData helps you decode and encode this content into simpler, easier to use data types while creating a Request or Response.",source:"@site/docs/v1.x/dsl/httpdata.md",sourceDirName:"v1.x/dsl",slug:"/v1.x/dsl/httpdata",permalink:"/zio-http/docs/v1.x/dsl/httpdata",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Response",permalink:"/zio-http/docs/v1.x/dsl/response"},next:{title:"Headers",permalink:"/zio-http/docs/v1.x/dsl/headers"}},d=[{value:"Server-side usage of <code>HttpData</code>",id:"server-side-usage-of-httpdata",children:[],level:2},{value:"Client-side usage of <code>HttpData</code>",id:"client-side-usage-of-httpdata",children:[],level:2},{value:"Creating an HttpData",id:"creating-an-httpdata",children:[{value:"Creating an HttpData from a <code>String</code>",id:"creating-an-httpdata-from-a-string",children:[],level:3},{value:"Creating an HttpData from a <code>ByteBuf</code>",id:"creating-an-httpdata-from-a-bytebuf",children:[],level:3},{value:"Creating an HttpData from <code>Chunk of Bytes</code>",id:"creating-an-httpdata-from-chunk-of-bytes",children:[],level:3},{value:"Creating an HttpData from a <code>Stream</code>",id:"creating-an-httpdata-from-a-stream",children:[],level:3},{value:"Creating an HttpData from a <code>File</code>",id:"creating-an-httpdata-from-a-file",children:[],level:3}],level:2},{value:"Converting <code>HttpData</code> to <code>ByteBuf</code>",id:"converting-httpdata-to-bytebuf",children:[],level:2}],c={toc:d};function u(t){var e=t.components,a=(0,r.Z)(t,i);return(0,o.kt)("wrapper",(0,n.Z)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"httpdata"},"HttpData"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," is a domain to model content for ",(0,o.kt)("inlineCode",{parentName:"p"},"Request"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Response")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"ClientRequest"),". ZIO HTTP uses Netty at it's core and Netty handles content as ",(0,o.kt)("inlineCode",{parentName:"p"},"ByteBuf"),". ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," helps you decode and encode this content into simpler, easier to use data types while creating a Request or Response."),(0,o.kt)("h2",{id:"server-side-usage-of-httpdata"},"Server-side usage of ",(0,o.kt)("inlineCode",{parentName:"h2"},"HttpData")),(0,o.kt)("p",null,"On the server-side, ",(0,o.kt)("inlineCode",{parentName:"p"},"ZIO-HTTP")," models content in ",(0,o.kt)("inlineCode",{parentName:"p"},"Request")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Response")," as ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.Empty")," as the default value.\nTo add content while creating a ",(0,o.kt)("inlineCode",{parentName:"p"},"Response")," you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"Response")," constructor."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val res: Response = Response( data = HttpData.fromString("Some String"))\n')),(0,o.kt)("p",null,"To add content while creating a ",(0,o.kt)("inlineCode",{parentName:"p"},"Request")," for unit tests, you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"Request")," constructor."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val req: Request = Request( data = HttpData.fromString("Some String"))\n')),(0,o.kt)("h2",{id:"client-side-usage-of-httpdata"},"Client-side usage of ",(0,o.kt)("inlineCode",{parentName:"h2"},"HttpData")),(0,o.kt)("p",null,"On the client-side, ",(0,o.kt)("inlineCode",{parentName:"p"},"ZIO-HTTP")," models content in ",(0,o.kt)("inlineCode",{parentName:"p"},"ClientRequest")," as ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.Empty")," as the default value.\nTo add content while making a request using ZIO HTTP you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"Client.request")," method."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val actual: ZIO[EventLoopGroup with ChannelFactory, Throwable, Client.ClientResponse] = \n    Client.request("https://localhost:8073/success", content = HttpData.fromString("Some string"))\n')),(0,o.kt)("h2",{id:"creating-an-httpdata"},"Creating an HttpData"),(0,o.kt)("h3",{id:"creating-an-httpdata-from-a-string"},"Creating an HttpData from a ",(0,o.kt)("inlineCode",{parentName:"h3"},"String")),(0,o.kt)("p",null,"To create an ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," that encodes a String you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.fromString"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val textHttpData: HttpData = HttpData.fromString("any string", CharsetUtil.UTF_8)\n')),(0,o.kt)("h3",{id:"creating-an-httpdata-from-a-bytebuf"},"Creating an HttpData from a ",(0,o.kt)("inlineCode",{parentName:"h3"},"ByteBuf")),(0,o.kt)("p",null,"To create an ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," that encodes a ByteBuf you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.fromByteBuf"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val binaryByteBufHttpData: HttpData = HttpData.fromByteBuf(Unpooled.copiedBuffer("Some string", CharsetUtil.UTF_8))\n')),(0,o.kt)("h3",{id:"creating-an-httpdata-from-chunk-of-bytes"},"Creating an HttpData from ",(0,o.kt)("inlineCode",{parentName:"h3"},"Chunk of Bytes")),(0,o.kt)("p",null,"To create an ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," that encodes chunk of bytes you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.fromChunk"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val chunkHttpData: HttpData = HttpData.fromChunk(Chunk.fromArray("Some Sting".getBytes(CharsetUtil.UTF_8)))\n')),(0,o.kt)("h3",{id:"creating-an-httpdata-from-a-stream"},"Creating an HttpData from a ",(0,o.kt)("inlineCode",{parentName:"h3"},"Stream")),(0,o.kt)("p",null,"To create an ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," that encodes a Stream you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.fromStream"),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Using a Stream of Bytes")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val streamHttpData: HttpData = HttpData.fromStream(ZStream.fromChunk(Chunk.fromArray("Some String".getBytes(HTTP_CHARSET))))\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Using a Stream of String")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val streamHttpData: HttpData = HttpData.fromStream(ZStream("a", "b", "c"), CharsetUtil.UTF_8)\n')),(0,o.kt)("h3",{id:"creating-an-httpdata-from-a-file"},"Creating an HttpData from a ",(0,o.kt)("inlineCode",{parentName:"h3"},"File")),(0,o.kt)("p",null,"To create an ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," that encodes a File you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData.fromFile"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val fileHttpData: HttpData = HttpData.fromFile(new io.File(getClass.getResource("/fileName.txt").getPath))\n')),(0,o.kt)("h2",{id:"converting-httpdata-to-bytebuf"},"Converting ",(0,o.kt)("inlineCode",{parentName:"h2"},"HttpData")," to ",(0,o.kt)("inlineCode",{parentName:"h2"},"ByteBuf")),(0,o.kt)("p",null,"To convert an ",(0,o.kt)("inlineCode",{parentName:"p"},"HttpData")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"ByteBuf"),"  you can call the ",(0,o.kt)("inlineCode",{parentName:"p"},"toButeBuf")," method on it, which returns a ",(0,o.kt)("inlineCode",{parentName:"p"},"Task[ByteBuf]"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-scala"},'  val textHttpData: HttpData = HttpData.fromString("any string", CharsetUtil.UTF_8)\n  val textByteBuf: Task[ByteBuf] = textHttpData.toByteBuf\n')))}u.isMDXComponent=!0}}]);